import { AdminLoanApplication, ApprovalRule, AdminUser, ApprovalStatistics } from "@/types/admin";

// Mock admin users
export const mockAdminUsers: AdminUser[] = [
  {
    id: "USR-001",
    name: "María González",
    email: "maria.gonzalez@banco.com",
    role: "analyst",
    department: "Créditos",
    permissions: ["view_applications", "approve_applications", "reject_applications"],
  },
  {
    id: "USR-002",
    name: "Carlos Ramírez",
    email: "carlos.ramirez@banco.com",
    role: "supervisor",
    department: "Créditos",
    permissions: ["view_applications", "approve_applications", "reject_applications", "edit_rules"],
  },
  {
    id: "USR-003",
    name: "Ana Martínez",
    email: "ana.martinez@banco.com",
    role: "manager",
    department: "Riesgo",
    permissions: ["view_applications", "approve_applications", "reject_applications", "edit_rules", "view_reports"],
  },
];

// Mock loan applications
export const mockApplications: AdminLoanApplication[] = [
  {
    id: "SOL-2025001",
    loanType: "personal",
    status: "submitted",
    createdAt: new Date("2025-11-27T09:30:00"),
    submittedAt: new Date("2025-11-27T09:35:00"),
    lastUpdatedAt: new Date("2025-11-27T10:15:00"),
    approvalType: "manual",
    riskLevel: "medium",
    personalData: {
      fullName: "Juan Carlos Pérez López",
      documentId: "1723456789",
      birthDate: new Date("1985-03-15"),
      maritalStatus: "casado",
      phone: "+593 99 123 4567",
      email: "juan.perez@email.com",
      address: "Av. 6 de Diciembre N34-120 y Gaspar de Villarroel",
      isExistingClient: true,
    },
    workInfo: {
      employmentType: "dependiente",
      position: "Gerente de Ventas",
      companyName: "TechCorp S.A.",
      monthlyIncome: 2800,
      workYears: 5,
      companyPhone: "+593 2 234 5678",
    },
    loanDetails: {
      amount: 15000,
      term: 24,
      purpose: "Consolidación de deudas",
    },
    documents: [
      { type: "id", name: "Cédula de identidad", uploaded: true },
      { type: "income", name: "Comprobante de ingresos", uploaded: true },
      { type: "utility", name: "Planilla de servicios básicos", uploaded: true },
    ],
    calculation: {
      monthlyPayment: 712.5,
      interestRate: 15.5,
      totalCost: 17100,
      totalInterest: 2100,
    },
    creditScore: {
      score: 680,
      rating: "bueno",
      factors: {
        income: 200,
        debtRatio: 150,
        employment: 180,
        history: 150,
      },
      approved: true,
      maxApprovedAmount: 18000,
    },
    assignedTo: "USR-001",
    notes: [
      {
        id: "NOTE-001",
        author: "María González",
        content: "Cliente con buen historial. Revisar capacidad de pago actual.",
        createdAt: new Date("2025-11-27T10:15:00"),
        isInternal: true,
      },
    ],
    history: [
      {
        id: "HIST-001",
        action: "Solicitud creada",
        performedBy: "Sistema",
        timestamp: new Date("2025-11-27T09:30:00"),
        newStatus: "draft",
      },
      {
        id: "HIST-002",
        action: "Solicitud enviada",
        performedBy: "Juan Carlos Pérez",
        timestamp: new Date("2025-11-27T09:35:00"),
        previousStatus: "draft",
        newStatus: "submitted",
      },
      {
        id: "HIST-003",
        action: "Asignada a analista",
        performedBy: "Sistema",
        timestamp: new Date("2025-11-27T09:40:00"),
        details: "Asignada automáticamente a María González",
        previousStatus: "submitted",
        newStatus: "pending-approval",
      },
    ],
  },
  {
    id: "SOL-2025002",
    loanType: "vehicular",
    status: "evaluating",
    createdAt: new Date("2025-11-27T11:00:00"),
    submittedAt: new Date("2025-11-27T11:05:00"),
    lastUpdatedAt: new Date("2025-11-27T11:30:00"),
    approvalType: "manual",
    riskLevel: "low",
    personalData: {
      fullName: "María Fernanda Castro",
      documentId: "1098765432",
      birthDate: new Date("1990-07-22"),
      maritalStatus: "soltero",
      phone: "+593 98 765 4321",
      email: "mf.castro@email.com",
      address: "Calle Andalucía E4-234 y Mariana de Jesús",
      isExistingClient: false,
    },
    workInfo: {
      employmentType: "dependiente",
      position: "Ingeniera de Software",
      companyName: "Digital Solutions",
      monthlyIncome: 3500,
      workYears: 3,
      companyPhone: "+593 2 345 6789",
    },
    loanDetails: {
      amount: 25000,
      term: 48,
      purpose: "Vehículo",
    },
    documents: [
      { type: "id", name: "Cédula de identidad", uploaded: true },
      { type: "income", name: "Comprobante de ingresos", uploaded: true },
      { type: "utility", name: "Planilla de servicios básicos", uploaded: true },
    ],
    calculation: {
      monthlyPayment: 612.5,
      interestRate: 12.8,
      totalCost: 29400,
      totalInterest: 4400,
    },
    creditScore: {
      score: 750,
      rating: "excelente",
      factors: {
        income: 225,
        debtRatio: 200,
        employment: 165,
        history: 75,
      },
      approved: true,
      maxApprovedAmount: 35000,
    },
    assignedTo: "USR-002",
    reviewedBy: "USR-002",
    notes: [],
    history: [
      {
        id: "HIST-004",
        action: "Solicitud creada",
        performedBy: "Sistema",
        timestamp: new Date("2025-11-27T11:00:00"),
        newStatus: "draft",
      },
      {
        id: "HIST-005",
        action: "Solicitud enviada",
        performedBy: "María Fernanda Castro",
        timestamp: new Date("2025-11-27T11:05:00"),
        previousStatus: "draft",
        newStatus: "submitted",
      },
      {
        id: "HIST-006",
        action: "En revisión",
        performedBy: "Carlos Ramírez",
        timestamp: new Date("2025-11-27T11:30:00"),
        previousStatus: "submitted",
        newStatus: "in-review",
      },
    ],
  },
  {
    id: "SOL-2025003",
    loanType: "personal",
    status: "approved",
    createdAt: new Date("2025-11-26T14:20:00"),
    submittedAt: new Date("2025-11-26T14:25:00"),
    lastUpdatedAt: new Date("2025-11-26T16:45:00"),
    approvalType: "automatic",
    riskLevel: "low",
    personalData: {
      fullName: "Roberto Sánchez Mora",
      documentId: "1765432109",
      birthDate: new Date("1988-11-10"),
      maritalStatus: "casado",
      phone: "+593 99 876 5432",
      email: "r.sanchez@email.com",
      address: "Av. República E7-234 y Diego de Almagro",
      isExistingClient: true,
    },
    workInfo: {
      employmentType: "dependiente",
      position: "Contador Senior",
      companyName: "Auditores Asociados",
      monthlyIncome: 2200,
      workYears: 8,
      companyPhone: "+593 2 456 7890",
    },
    loanDetails: {
      amount: 5000,
      term: 12,
      purpose: "Consumo personal",
    },
    documents: [
      { type: "id", name: "Cédula de identidad", uploaded: true },
      { type: "income", name: "Comprobante de ingresos", uploaded: true },
      { type: "utility", name: "Planilla de servicios básicos", uploaded: true },
    ],
    calculation: {
      monthlyPayment: 450,
      interestRate: 15.5,
      totalCost: 5400,
      totalInterest: 400,
    },
    creditScore: {
      score: 780,
      rating: "excelente",
      factors: {
        income: 175,
        debtRatio: 200,
        employment: 200,
        history: 150,
      },
      approved: true,
      maxApprovedAmount: 12000,
    },
    reviewedBy: "Sistema Automático",
    reviewedAt: new Date("2025-11-26T16:45:00"),
    notes: [
      {
        id: "NOTE-002",
        author: "Sistema",
        content: "Aprobación automática basada en reglas. Cliente cumple todos los criterios.",
        createdAt: new Date("2025-11-26T16:45:00"),
        isInternal: true,
      },
    ],
    history: [
      {
        id: "HIST-007",
        action: "Solicitud creada",
        performedBy: "Sistema",
        timestamp: new Date("2025-11-26T14:20:00"),
        newStatus: "draft",
      },
      {
        id: "HIST-008",
        action: "Solicitud enviada",
        performedBy: "Roberto Sánchez",
        timestamp: new Date("2025-11-26T14:25:00"),
        previousStatus: "draft",
        newStatus: "submitted",
      },
      {
        id: "HIST-009",
        action: "Aprobación automática",
        performedBy: "Sistema",
        timestamp: new Date("2025-11-26T16:45:00"),
        details: "Cumple regla: Cliente existente + Score > 700 + Monto < $10k",
        previousStatus: "submitted",
        newStatus: "approved",
      },
    ],
  },
];

// Mock approval rules
export const mockApprovalRules: ApprovalRule[] = [
  {
    id: "RULE-001",
    name: "Auto-aprobación clientes premium",
    description: "Aprobación automática para clientes existentes con buen historial y montos bajos",
    isActive: true,
    priority: 1,
    conditions: [
      { field: "isExistingClient", operator: "equals", value: true, label: "Cliente existente" },
      { field: "creditScore.score", operator: "greater_than", value: 700, label: "Score > 700" },
      { field: "loanDetails.amount", operator: "less_than", value: 10000, label: "Monto < $10,000" },
    ],
    action: {
      type: "auto_approve",
      parameters: {
        maxAmount: 10000,
      },
    },
    createdAt: new Date("2025-01-15"),
    updatedAt: new Date("2025-10-20"),
    createdBy: "Ana Martínez",
  },
  {
    id: "RULE-002",
    name: "Revisión manual alto riesgo",
    description: "Requiere revisión manual para solicitudes de alto riesgo",
    isActive: true,
    priority: 2,
    conditions: [
      { field: "creditScore.score", operator: "less_than", value: 600, label: "Score < 600" },
    ],
    action: {
      type: "require_manual_review",
      parameters: {
        reason: "Score crediticio bajo",
      },
    },
    createdAt: new Date("2025-01-15"),
    updatedAt: new Date("2025-10-20"),
    createdBy: "Ana Martínez",
  },
  {
    id: "RULE-003",
    name: "Rechazo automático score muy bajo",
    description: "Rechazo automático para scores críticos",
    isActive: true,
    priority: 0,
    conditions: [
      { field: "creditScore.score", operator: "less_than", value: 450, label: "Score < 450" },
    ],
    action: {
      type: "auto_reject",
      parameters: {
        reason: "Score crediticio insuficiente para aprobación",
      },
    },
    createdAt: new Date("2025-01-15"),
    updatedAt: new Date("2025-08-10"),
    createdBy: "Ana Martínez",
  },
  {
    id: "RULE-004",
    name: "Auto-aprobación montos pequeños",
    description: "Aprobación rápida para préstamos personales pequeños con score aceptable",
    isActive: true,
    priority: 3,
    conditions: [
      { field: "loanType", operator: "equals", value: "personal", label: "Tipo: Personal" },
      { field: "loanDetails.amount", operator: "less_than", value: 3000, label: "Monto < $3,000" },
      { field: "creditScore.score", operator: "greater_than", value: 650, label: "Score > 650" },
      { field: "workInfo.monthlyIncome", operator: "greater_than", value: 800, label: "Ingreso > $800" },
    ],
    action: {
      type: "auto_approve",
      parameters: {
        maxAmount: 3000,
      },
    },
    createdAt: new Date("2025-03-10"),
    updatedAt: new Date("2025-09-15"),
    createdBy: "Carlos Ramírez",
  },
];

// Mock statistics
export const mockStatistics: ApprovalStatistics = {
  total: 1247,
  pending: 23,
  approved: 892,
  rejected: 156,
  inReview: 176,
  averageProcessingTime: 18.5,
  autoApprovalRate: 42.3,
  approvalRate: 71.5,
  byLoanType: {
    personal: {
      total: 687,
      approved: 512,
      rejected: 89,
    },
    vehicular: {
      total: 298,
      approved: 215,
      rejected: 34,
    },
    hipotecario: {
      total: 156,
      approved: 98,
      rejected: 22,
    },
    negocio: {
      total: 106,
      approved: 67,
      rejected: 11,
    },
  },
};
